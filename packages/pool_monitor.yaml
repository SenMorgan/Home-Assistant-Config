######################################################################
# File: pool_monitor.yaml                                            #
# Author: SenMorgan https://github.com/SenMorgan                     #
# Date: 2026-02-08                                                   #
#                                                                    #
# Copyright (c) 2026 Sen Morgan                                      #
######################################################################

###############################################
## MQTT Sensors
###############################################
mqtt:
  sensor:
    - name: "Battery Voltage"
      unique_id: "battery_voltage"
      icon: mdi:battery
      device_class: voltage
      state_topic: "/pool-thermometer/vcc"
      value_template: "{{ value }}"
      unit_of_measurement: "mV"
      device:
        identifiers: ["pool_monitor"]
        name: "Pool Monitor"
        manufacturer: "üë®‚Äçüíª SenMorgan"
        model: "Pool Monitor"
        suggested_area: "Backyard"

    - name: "Upper Water Temperature"
      unique_id: "upper_water_temperature"
      icon: mdi:temperature-celsius
      device_class: temperature
      state_topic: "/pool-thermometer/ds18b20/upper-water-temp"
      value_template: "{{ value }}"
      unit_of_measurement: "¬∞C"
      device:
        identifiers: ["pool_monitor"]

    - name: "Bottom Water Temperature"
      unique_id: "bottom_water_temperature"
      icon: mdi:temperature-celsius
      device_class: temperature
      state_topic: "/pool-thermometer/ds18b20/bottom-water-temp"
      value_template: "{{ (value  | float(0) - 0.33)  | round(2, default=none)}}"
      unit_of_measurement: "¬∞C"
      device:
        identifiers: ["pool_monitor"]

    - name: "Air Temperature"
      unique_id: "air_temperature"
      icon: mdi:temperature-celsius
      state_topic: "/pool-thermometer/bme280/temp"
      device_class: temperature
      value_template: "{{ value }}"
      unit_of_measurement: "¬∞C"
      device:
        identifiers: ["pool_monitor"]

    - name: "Air Pressure"
      unique_id: "air_pressure"
      state_topic: "/pool-thermometer/bme280/press"
      device_class: pressure
      value_template: "{{ value }}"
      unit_of_measurement: "hPa"
      device:
        identifiers: ["pool_monitor"]

    - name: "Air Humidity"
      unique_id: "air_humidity"
      icon: mdi:water-percent
      state_topic: "/pool-thermometer/bme280/hum"
      device_class: humidity
      value_template: "{{ value }}"
      unit_of_measurement: "%"
      device:
        identifiers: ["pool_monitor"]
